[gd_scene load_steps=9 format=3 uid="uid://bhlxgddfhmm8k"]

[ext_resource type="Script" path="res://src/Things/OfficeMaze/OfficeMaze.cs" id="1_0k57m"]
[ext_resource type="PackedScene" uid="uid://c006hrafe78db" path="res://scenes/TwistyCorridor.tscn" id="3_l8tfw"]
[ext_resource type="PackedScene" uid="uid://m7m3lcbja653" path="res://scenes/OfficeMaze/OfficeBuilding.tscn" id="3_ygeb2"]
[ext_resource type="Script" path="res://src/Things/Switcheroo.cs" id="4_5gtv1"]
[ext_resource type="PackedScene" uid="uid://b57itddtdd8yl" path="res://assets/models/light_cone.glb" id="4_agn1v"]
[ext_resource type="AudioStream" uid="uid://7f4dfnhdfq0e" path="res://assets/sounds/click.ogg" id="5_wlifq"]
[ext_resource type="AudioStream" uid="uid://b5l2j5c854nh2" path="res://assets/sounds/blackout.ogg" id="6_vg16b"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_cl65d"]
radius = 3.75994

[node name="OfficeMaze" type="Node3D"]
script = ExtResource("1_0k57m")

[node name="Building" parent="." instance=ExtResource("3_ygeb2")]

[node name="CollisionShape3D" parent="Building/EntranceDoor/StaticBody3D2" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0.378813)

[node name="twisty_corridor" parent="Building/Exit" index="1" instance=ExtResource("3_l8tfw")]

[node name="CollisionShape3D" parent="Building/OfficeBuildingArea" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0)

[node name="CubiclesRoot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, -2)

[node name="LightCone" parent="." instance=ExtResource("4_agn1v")]
transform = Transform3D(1, 0, 0, 0, 1.46, 0, 0, 0, 1, -18, 0, -18.6)

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="LightCone"]
transform = Transform3D(1, 0, 0, 0, 0.684932, 0, 0, 0, 1, 0, 6.1201, 0)
stream = ExtResource("5_wlifq")
max_polyphony = 2
bus = &"OfficeReverb"
attenuation_filter_cutoff_hz = 20500.0

[node name="AudioStreamPlayer3D2" type="AudioStreamPlayer3D" parent="LightCone"]
transform = Transform3D(1, 0, 0, 0, 0.684932, 0, 0, 0, 1, 0, 6.1201, 0)
stream = ExtResource("6_vg16b")
volume_db = -18.076
max_polyphony = 2
bus = &"OfficeReverb"
attenuation_filter_cutoff_hz = 20500.0

[node name="DisappearModeTrigger" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18, 0, -18.6)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="DisappearModeTrigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
visible = false
shape = SubResource("CylinderShape3D_cl65d")

[node name="ExitOnScreenNotifier" type="VisibleOnScreenNotifier3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -42, 2, -35.6)
aabb = AABB(-1, -2, -1, 2, 4, 2)

[node name="ExitSwitcheroo" type="Node" parent="." node_paths=PackedStringArray("Node1", "Node2")]
script = ExtResource("4_5gtv1")
Node1 = NodePath("../Building/ExitDoor")
Node2 = NodePath("../Building/Exit")

[node name="EntranceOnScreenNotifier" type="VisibleOnScreenNotifier3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.6)
aabb = AABB(-0.4, 0, 0, 0.8, 2, 0.2)

[node name="Funni" type="Node3D" parent="."]

[node name="EntranceSwitcheroo" type="Node" parent="." node_paths=PackedStringArray("Node1", "Node2")]
script = ExtResource("4_5gtv1")
Node1 = NodePath("../Funni")
Node2 = NodePath("../Building/EntranceDoor")

[connection signal="body_entered" from="DisappearModeTrigger" to="." method="EngageDisappearMode" flags=6 unbinds=1]

[editable path="Building"]
